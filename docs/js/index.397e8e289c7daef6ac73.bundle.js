!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return console.error(new Error("You should enter a route to fetch").message);if("string"!==typeof t&&console.error(new Error("The route parameter should be a string.").message),e){if("string"!==typeof e&&console.error(new Error("Method should be a string").message),!["GET","POST","PUT","DELETE"].includes(e.toUpperCase()))return console.error(new Error("The ".concat(e," is not available for now.")).message)}else e="GET";return n=r.useCustomRoute?o({},r.headers):o({},r.headers,{"Content-Type":"application/json"}),fetch(r.useCustomRoute?t:"https://newsapp.dwsapp.io/api/news".concat(t),{method:e.toUpperCase(),headers:o({},n),body:r.body&&JSON.stringify(r.body)}).then((function(t){return t.json()})).then((function(t){return t}))}},function(t,e,n){"use strict";(function(t){var r=n(0),o=n(2);e.a=function(e){if(sessionStorage.getItem("userToken"))return Object(r.a)("https://newsapp.dwsapp.io/api/me","post",{useCustomRoute:!0,headers:{"content-type":"application/json"},body:{token:sessionStorage.getItem("userToken")}}).then((function(n){return null===n.err?Object(r.a)("/sources","POST",{headers:{"content-type":"application/json"},body:{news_api_token:t.env.API_KEY}}).then((function(t){return a(t)})):(e.innerHTML="",state.error=!0,state.msg=n.message,a())}));function n(e,n,a){return Object(r.a)("/".concat(n,"/").concat(""===a?null:a),"POST",{body:{news_api_token:t.env.API_KEY}}).then((function(t){return Object(o.a)(e,t.data.articles)}))}function a(t){var r=document.createElement("form");r.classList.add("container","rounded","border","border-primary","mt-4"),r.innerHTML='\n\t\t<div class="row p-3">\n\t\t\t<div class="col-12">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label><small>Source</small></label>\n\t\t\t\t\t<select class="form-control"></select>\n\t\t\t\t</div>\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label><small>Search articles<small></label>\n\t\t\t\t\t<input type="text" class="form-control col-5"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t',e.appendChild(r);var o=document.querySelector("select"),a=document.querySelector("input");o.addEventListener("change",(function(t){return n(e,t.target.value,document.querySelector("input").value)})),a.addEventListener("input",(function(t){return n(e,document.querySelector("select").value,t.target.value)})),t.data.sources.map((function(t){var e=document.createElement("option");e.textContent=t.id,o.appendChild(e)})),n(e,o.value,a.value)}}}).call(this,n(3))},function(t,e,n){"use strict";var r=n(0),o=function(t,e,n){return function(){var r=document.createElement("section");r.style="position:absolute;top: ".concat(n,"px; right: 2%; margin: 0 auto; height: 5vh;"),t?r.classList.add("snackbar","bg-danger","d-flex","justify-content-center","align-items-center","rounded","p-2"):r.classList.add("snackbar","bg-success","d-flex","justify-content-center","align-items-center","rounded","p-2"),r.innerHTML='\n\t\t\t<p class="text-light m-0">'.concat(e,' consultez la liste <a href="').concat(window.location.origin+"/bookmark",'">i\xe7i</a></p>\n\t\t'),document.querySelector("body").appendChild(r);var o=setInterval((function(){if(4===a)return clearInterval(o),document.querySelector("body").removeChild(document.querySelector(".snackbar"));a+=1}),1e3),a=0}()};e.a=function(t,e){return document.querySelector(".card-wrapper")&&(document.querySelector(".card-wrapper").innerHTML=""),function(){var n=document.createElement("section");n.classList.add("container"),n.innerHTML='\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-12 card-wrapper" style="display:flex;flex-wrap:wrap;justify-content:space-between;"></div>\n\t\t\t</div>\n\t\t',t.appendChild(n);var a=document.querySelector(".card-wrapper");e.map((function(t,e){var n=document.createElement("div");n.classList.add("card"),n.style="width:32%;margin: 4% 0;",n.innerHTML='\n\t\t\t\t<img class="card-img-top" src="'.concat(t.urlToImage,'"/>\n\t\t\t\t<div class="card-body">\n\t\t\t\t\t<h5 class="card-title">').concat(t.author,'</h5>\n\t\t\t\t\t<p class="card-text">').concat(t.description,'</p>\n\t\t\t\t\t<a href="').concat(t.url,'" class="btn btn-primary" target="_blank">Read</a>\n\t\t\t\t\t<small class="article-').concat(e,'">Bookmark</small>\n\t\t\t\t</div>\n\t\t\t'),a.appendChild(n),document.querySelector(".article-".concat(e)).addEventListener("click",(function(e){Object(r.a)("https://newsapp.dwsapp.io/api/bookmark/","post",{useCustomRoute:!0,headers:{"content-type":"Application/json"},body:{id:t.source.id,name:t.source.name,description:t.description,url:t.url,category:"general",language:"en",country:"us",token:sessionStorage.getItem("userToken")}}).then((function(n){return null===n.err?o(!1,"".concat(t.author," ajout\xe9 aux favoris"),e.pageY):o(!0,"".concat(t.author," existe d\xe9ja"),e.pageY)}))}))}))}()}},function(t,e){var n,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var s,l=[],u=!1,d=-1;function p(){u&&s&&(u=!1,s.length?l=s.concat(l):d=-1,l.length&&m())}function m(){if(!u){var t=c(p);u=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||u||c(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=function(t){return function(t){var e=document.createElement("header");e.setAttribute("class","container mt-3"),e.innerHTML='\n        <div class="row">\n            <div class="col-9 d-flex align-items-center">\n                <h1 class="display-5"><a href="'.concat(window.location.origin+"/",'">News</a></h1>\n\t\t\t</div>\n\t\t\t').concat(sessionStorage.getItem("userToken")?'<div class="col-3 d-flex align-items-center justify-content-end">\n\t\t\t\t\t\t<small class="text-danger" id="disconnect">Disconnect</small>\n\t\t\t\t\t</div>':"","\n        </div>\n        "),t.appendChild(e),document.querySelector("#disconnect")&&document.querySelector("#disconnect").addEventListener("click",(function(){sessionStorage.clear(),window.location.href=window.location.origin+"/"}))}(t)},a=n(1),i=function(t){Object(r.a)("https://newsapp.dwsapp.io/api/me","POST",{useCustomRoute:!0,headers:{"Content-Type":"application/json"},body:{token:sessionStorage.getItem("userToken")}}).then((function(e){if(null===e.err)return function e(n){t.querySelector("section")&&t.removeChild(t.querySelector("section"));var o=document.createElement("section");o.classList.add("container"),o.innerHTML='\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-12 bookmark-list"></div>\n\t\t\t</div>\n\t\t',t.appendChild(o),n.map((function(t,o){var a=document.createElement("article");a.classList.add("border","rounded-left","border-dark","".concat(0===o&&"mt-4"),"p-2"),a.innerHTML='\n\t\t\t\t<h2 style="font-size:1.1rem;">'.concat(t.name,'</h2>\n\t\t\t\t<p class="text-secondary m-0" style="font-size:12px;">').concat(t.description,'</p>\n\t\t\t\t<div class="d-flex mt-2">\n\t\t\t\t\t<p class="text-primary m-0" style="font-size:10px;"><a href=\'').concat(t.url,'\' target="_blank">Read</a></p>\n\t\t\t\t\t<p class="text-danger bk-').concat(o,'" style="font-size:10px; margin: 0 0 0 1%;">Delete</p>\n\t\t\t\t</div>\n\t\t\t'),document.querySelector(".bookmark-list").appendChild(a),document.querySelector(".bk-".concat(o)).addEventListener("click",(function(){Object(r.a)("https://newsapp.dwsapp.io/api/bookmark/".concat(t._id),"delete",{useCustomRoute:!0,headers:{"Content-type":"Application/json"},body:{token:sessionStorage.getItem("userToken")}}).then((function(t){if(null===t.err)return n.map((function(e){return e._id===t.data._id&&n.splice(n.indexOf(e),1)})),e(n)}))}))}))}(e.data.bookmark)}))};!function(t){if("/"===window.location.pathname||"/inscription"===window.location.pathname)return function(t,e){var n={error:!1,msg:""};if(sessionStorage.getItem("userToken"))return Object(r.a)("https://newsapp.dwsapp.io/api/me","post",{useCustomRoute:!0,headers:{"content-type":"application/json"},body:{token:sessionStorage.getItem("userToken")}}).then((function(t){return t.err?o():window.location.href=window.location.origin+"/news"}));function o(){var a=document.createElement("form");a.classList.add("container"),a.style="height:100vh;display:flex;justify-content:center;align-items:center;",a.innerHTML='\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-12 p-5 rounded border '.concat(n.error?"border-danger":"bordeprimary",'">\n\t\t\t\t').concat(n.error?'<div class="form-group bg-danger rounded p-2">\n\t\t\t\t\t\t<p class="text-light" style="margin:0;">'.concat(n.msg,"</p>\n\t\t\t\t\t</div>"):"",'\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label><small>Email</small></label>\n\t\t\t\t\t\t<input type="mail" class="form-control"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label><small>Password</small></label>\n\t\t\t\t\t\t<input type="password" class="form-control"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t').concat("/inscription"===e?'<div class="form-group">\n\t\t\t\t\t\t\t\t<label><small>Name</small></label>\n\t\t\t\t\t\t\t\t<input type="text" class="form-control" name="name"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t<label><small>Surname</small></label>\n\t\t\t\t\t\t\t\t<input type="text" class="form-control" name="surname"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t':"",'\n\t\t\t\t\t<button type="submit" class="btn btn-primary mb-auto">').concat("/"===e?"Login":"Register",'</button>\n\t\t\t\t\t<div class="form-group mt-2">\n\t\t\t\t\t\t<small>').concat("/inscription"===e?'Already have an account ?<a href="'.concat(window.location.origin+"/",'">Click here</a>'):'Do not have an account yet ?<a href="'.concat(window.location.origin+"/inscription",'">Click here</a>'),"\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),t.appendChild(a),document.querySelector("form").addEventListener("submit",(function(a){a.preventDefault();var i=document.querySelector("input[type=mail]"),c=document.querySelector("input[type=password]");if(0!==!i.value.length&&!1===/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(i.value))return t.innerHTML="",n.error=!0,n.msg="Email incorrect",o();if(0===c.value.length)return t.innerHTML="",n.error=!0,n.msg="Enter a password",o();if("/inscription"===e){var s=document.querySelector("input[name=name]"),l=document.querySelector("input[name=surname]");return 0===s.value.length?(t.innerHTML="",n.error=!0,n.msg="Enter a name",o()):0===l.value.length?(t.innerHTML="",n.error=!0,n.msg="Enter a surname",o()):Object(r.a)("https://newsapp.dwsapp.io/api/register","post",{useCustomRoute:!0,headers:{"content-type":"application/json"},body:{email:i.value,password:c.value,firstname:s.value,lastname:l.value}}).then((function(e){return null===e.err?Object(r.a)("https://newsapp.dwsapp.io/api/login","post",{useCustomRoute:!0,headers:{"content-type":"application/json"},body:{email:i.value,password:c.value}}):(t.innerHTML="",n.error=!0,n.msg=e.message,o())})).then((function(t){sessionStorage.setItem("userToken",t.data.token),window.location.href=window.location.origin+"/news"}))}return Object(r.a)("https://newsapp.dwsapp.io/api/login","post",{useCustomRoute:!0,headers:{"content-type":"application/json"},body:{email:i.value,password:c.value}}).then((function(e){return null===e.err&&(sessionStorage.setItem("userToken",e.data.token),window.location.href=window.location.origin+"/news"),t.innerHTML="",n.error=!0,n.msg=e.message,o()}))}))}return o()}(t,window.location.pathname);if(sessionStorage.getItem("userToken")){if("/bookmark"===window.location.pathname)return o(t),i(t);if("/news"===window.location.pathname)return o(t),Object(a.a)(t)}window.location.href=window.location.origin+"/"}(document.querySelector("#root"))}]);